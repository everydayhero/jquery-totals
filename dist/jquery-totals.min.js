!function(t,e,n){t.fn.getEDHTotals=function(e){Number.prototype.formatMoney=function(t,e,a){var o=this;return t=isNaN(t=Math.abs(t))?2:t,e=e===n?",":e,a=a===n?".":a,s=0>o?"-":"",i=parseInt(o=Math.abs(+o||0).toFixed(t))+"",j=(j=i.length)>3?j%3:0,s+(j?i.substr(0,j)+a:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+a)+(t?e+Math.abs(o-i).toFixed(t).slice(2):"")},t.fn.getEDHTotals.defaults={type:"campaign",ids:["au-0"],onComplete:null,render:null};var a=t.extend({},t.fn.getEDHTotals.defaults,e),o=t(this.selector),c=[],r=[],l=0,u="",p="https://everydayhero.com/api/v2/search/totals.jsonp?",d="",h=function(e){t(o).text(e)};d="campaign"===a.type?p+"campaign_id=":"charity"===a.type?p+"charity_id=":p+"page_id=",t.each(a.ids,function(e,n){r.push(t.getJSON(d+n+"&callback=?",function(t){c.push(t.total_amount_cents.sum)}))}),t.when.apply(t,r).done(function(){t.each(c,function(t,e){u="$",l+=e});var e=u+(l/100).formatMoney(2,".",","),n={currencySymbol:u,totalFormatted:e,totalCents:l};t.isFunction(a.render)?a.render.call(o,n):h(e),t.isFunction(a.onComplete)&&a.onComplete.call(o)})}}(jQuery,window);