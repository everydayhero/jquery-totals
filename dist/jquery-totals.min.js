!function(t){t.fn.getEDHTotals=function(e){Number.prototype.formatMoney=function(t,e,n){var a=this;return t=isNaN(t=Math.abs(t))?2:t,e=void 0===e?",":e,n=void 0===n?".":n,s=0>a?"-":"",i=parseInt(a=Math.abs(+a||0).toFixed(t))+"",j=(j=i.length)>3?j%3:0,s+(j?i.substr(0,j)+n:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?e+Math.abs(a-i).toFixed(t).slice(2):"")},t.fn.getEDHTotals.defaults={type:"campaign",ids:["au-0"],onComplete:null,render:null};var n=t.extend({},t.fn.getEDHTotals.defaults,e),a=t(this.selector),o=[],c=[],r=0,l="",u="https://everydayhero.com/api/v2/search/totals.jsonp?",p="",d=function(e){t(a).text(e)};p="campaign"===n.type?u+"campaign_id=":"charity"===n.type?u+"charity_id=":u+"page_id=",t.each(n.ids,function(e,n){c.push(t.getJSON(p+n+"&callback=?",function(t){o.push(t.total_amount_cents.sum)}))}),t.when.apply(t,c).done(function(){t.each(o,function(t,e){l="$",r+=e});var e=l+(r/100).formatMoney(2,".",","),i={currencySymbol:l,totalFormatted:e,totalCents:r};t.isFunction(n.render)?n.render.call(a,i):d(e),t.isFunction(n.onComplete)&&n.onComplete.call(a)})}}(jQuery);